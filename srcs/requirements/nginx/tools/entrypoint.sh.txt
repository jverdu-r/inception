#!/bin/sh

# SSL certificate and key paths
SSL_CERT="/etc/nginx/ssl/cert.pem"
SSL_KEY="/etc/nginx/ssl/key.pem"

# Check if SSL certificates already exist
if [ ! -f "$SSL_CERT" ] || [ ! -f "$SSL_KEY" ]; then
echo "ðŸ”¹ Generating self-signed SSL certificate..."
openssl req -x509 -newkey rsa:4096 -keyout "$SSL_KEY" -out "$SSL_CERT" \
-sha256 -days 365 -nodes -subj "/CN=localhost"
else
echo "âœ… SSL certificates already exist."
fi

# Start Nginx
exec "$@"
